<?xml version="1.0"?>
<document xmlns:j="jelly:core">
    
    <properties>
        <title>Welcome to Another PostgreSQL Diff Tool</title>
        <author email="miroslav.sulc@startnet.cz">Miroslav Å ulc</author>
        <revision>$Revision$</revision>
    </properties>
    
    <body>
        <section name="Welcome to Another PostgreSQL Diff Tool">
            <p>
                Another PostgreSQL Diff Tool is simple PostgreSQL diff tool that
                is useful for schema upgrades. The tool compares two schema dump
                files and creates output file that is (after some hand-made
                modifications) suitable for upgrade of old schema.
            </p>
            <p>
                I created this tool because I need to perform PostgreSQL
                database schema upgrades for our application. I didn't found
                anything suitable so I created this simple tool. I decided to
                place it here on SourceForge.Net because it might be useful for
                other developers too. If you find the tool useful too please
                let me know and I may create a Used By section here at the site.
            </p>
        </section>
        <section name="How the Program Works">
            <p>
                apgdiff is a command-line tool. It takes two parameters. One is
                the original database schema dump file, the other is the new
                database schema dump file. The command might look like this:    
            </p>
            <code>java -jar apgdiff.jar original_schema_dump.sql new_schema_dump.sql</code>
            <p>
                After you submit the command, you will see list of SQL commands
                and modification information on the screen. You can also redirect
                the output to a file:
            </p>
            <code>java -jar apgdiff.jar original_schema_dump.sql new_schema_dump.sql > diff.sql</code>
        </section>
        <section name="List of Features">
            <ul>
                <li>
                    apgdiff looks for differences in definitions of tables,
                    sequences, constraints and indexes
                </li>
                <li>
                    apgdiff creates SQL commands for creations and drops
                    of database objects and for modifications of columns
                </li>
                <li>
                    modifications of other database objects are outputted
                    informatively and are left to the developer to decide
                    how to handle them
                </li>
                <li>
                    CREATE TABLE, ALTER TABLE (except ALTER TABLE ... OWNER TO
                    ...), CREATE SEQUENCE and CREATE INDEX commands are supported
                    but some specific features of the commands may not be
                    implemented yet (see Note below)
                </li>
                <li>
                    Comments, empty lines, SET, COMMENT, SELECT, INSERT INTO,
                    REVOKE, GRANT and possibly other commands are ignored
                </li>
            </ul>
            <p>
                Note: I use apgdiff on dumps generated from PostgreSQL 8.1.3 so
                it might not work on dumps from other versions if there are some
                differences in the format that the code cannot handle at this
                moment. Feel free to submit a patch for such a problem or send
                me your dump and I'll have a look at it. Please also note that
                if you want to have a new feature in apgdiff and you do not plan
                to provide a patch for the feature then you need to add your
                <a href="http://sourceforge.net/tracker/?group_id=163508&amp;atid=828026">
                    feature request
                </a> so I can find out that the feature is in need. I do not
                plan to add new features just in case somebody may need it, I
                need to see a request for the feature at the first time so
                I can see the effort has some meaning.
            </p>
        </section>
        <section name="Requirements">
            <p>
                apgdiff is a Java program so you need Java installed. apgdiff
                requires Java 1.5. I use "Sun JDK 1.5.0.09" and
                "Sun JDK 1.6.0.0_rc104".
            </p>
        </section>
        <section name="Bugs">
            <p>
                There are three kinds of bugs in apgdiff:
            </p>
            <ul>
                <li>
                    bugs for currently supported features (they should be rare
                    because they should be caught by automated tests)
                </li>
                <li>
                    bugs caused by not implemented features (see
                    <a href="#List of Features">List of Features</a>)
                </li>
                <li>
                    bugs caused by different format of PostgreSQL dump file
                    that other than 8.1.x versions may create (see Note at the
                    end of <a href="#List of Features">List of Features</a>)
                </li>
            </ul>
            <p>
                No matter of what bug you came across, please file it to
                <a href="http://sourceforge.net/tracker/?group_id=163508&amp;atid=828023">
                    Bugs Tracker
                </a>.
            </p>
        </section>
        <section name="Future">
            <p>
                As I use this tool quite often I will probably release new
                versions from time to time. If you are interested in this tool
                and have a patch for it, put it to
                <a href="http://sourceforge.net/tracker/?group_id=163508&amp;atid=828025">
                    Patch Tracker
                </a> and I'll add it to a new release.
            </p>
        </section>
        <section name="Contact">
            <p>
                You can contact me at <a href="mailto:miroslav.sulc@startnet.cz">
                    miroslav.sulc@startnet.cz
                </a>.
            </p>
        </section>
    </body>
</document>
