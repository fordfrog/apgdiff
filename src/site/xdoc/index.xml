<?xml version="1.0"?>
<document xmlns:j="jelly:core">
    
    <properties>
        <title>Welcome to Another PostgreSQL Diff Tool</title>
        <author email="miroslav.sulc@startnet.cz">Miroslav Å ulc</author>
        <revision>$Revision$</revision>
    </properties>
    
    <body>
        <section name="Welcome to Another PostgreSQL Diff Tool">
            <p>
                Another PostgreSQL Diff Tool is simple PostgreSQL diff tool that
                is useful for schema upgrades. The tool compares two schema dump
                files and creates output file that is (after some hand-made
                modifications) suitable for upgrade of old schema.
            </p>
            <p>
                I created this tool because I need to perform PostgreSQL
                database schema upgrades for our application. I didn't found
                anything suitable so I created this simple tool. I decided to
                place it here on SourceForge.Net because it might be useful for
                other developers too. If you find the tool useful too please
                let me know and I may create a Used By section here at the site.
            </p>
        </section>
        <section name="How the Program Works">
            <p>
                apgdiff is a command-line tool. It takes two parameters. One is
                the original database schema dump file, the other is the new
                database schema dump file. The command might look like this:    
            </p>
            <code>java -jar apgdiff.jar original_schema_dump.sql new_schema_dump.sql</code>
            <p>
                After you submit the command, you will see list of SQL commands
                and modification information on the screen. You can also redirect
                the output to a file:
            </p>
            <code>java -jar apgdiff.jar original_schema_dump.sql new_schema_dump.sql > diff.sql</code>
            <p>
                For more information run apgdiff without parameters:
            </p>
            <code>java -jar apgdiff.jar</code>
        </section>
        <section name="List of Features">
            <ul>
                <li>
                    apgdiff looks for differences in definitions of TABLEs,
                    SEQUENCEs, CONSTRAINTs, INDEXes, FUNCTIONs and TRIGGERs
                </li>
                <li>
                    apgdiff creates SQL commands for creations, drops and
                    modifications of database objects
                </li>
                <li>
                    CREATE SCHEMA, CREATE TABLE, ALTER TABLE (except ALTER TABLE ... OWNER TO
                    ...), CREATE SEQUENCE, CREATE INDEX, CREATE (OR REPLACE )FUNCTION,
                    CREATE TRIGGER and SET search_path commands are supported but some specific
                    features of the commands may not be implemented yet
                    (see Note below)
                </li>
                <li>
                    Comments, empty lines, SET (except SET search_path), COMMENT,
                    SELECT, INSERT INTO, REVOKE, GRANT and possibly other
                    commands are ignored
                </li>
            </ul>
            <p>
                Note: apgdiff is no more depending on formatting of SQL commands
                so it can be used on dumps from different version of PostgreSQL,
                on SQL commands from pgAdmin, hand-written SQL commands etc.
                I do the testing on dumps from PostgreSQL 8.1.x. Please note
                that there are some differences in what parameters are default
                in what versions of PostgreSQL (for example creation of OIDS)
                so have this in mind while creating your diffs as apgdiff
                defaults to the defaults of PostgreSQL 8.x.
            </p>
        </section>
        <section name="Requirements">
            <p>
                apgdiff is a Java program so you need Java installed. apgdiff
                requires at least Java 1.5. I use "Sun JDK 1.6.0".
            </p>
        </section>
        <section name="Bugs">
            <p>
                There are two kinds of bugs in apgdiff:
            </p>
            <ul>
                <li>
                    bugs for currently supported features (they should be rare
                    because they should be caught by automated tests)
                </li>
                <li>
                    bugs caused by not implemented features
                </li>
            </ul>
            <p>
                No matter of what bug you came across, please file it to
                <a href="http://sourceforge.net/tracker/?group_id=163508&amp;atid=828023">Bugs Tracker</a>.
                If you have a patch for such a bug then please file it to
                <a href="http://sourceforge.net/tracker/?group_id=163508&amp;atid=828025">Patches</a>.
            </p>
        </section>
        <section name="Future">
            <p>
                As I use this tool quite often I will probably release new
                versions from time to time. If you are interested in this tool
                and have a patch for it, put it to
                <a href="http://sourceforge.net/tracker/?group_id=163508&amp;atid=828025">Patch Tracker</a>
                and I'll add it to a new release. Also, if you would like to see
                a new feature in apgdiff then you can submit
                <a href="http://sourceforge.net/tracker/?group_id=163508&amp;atid=828026">Feature Request</a>.
            </p>
        </section>
        <section name="Contact">
            <p>
                You can contact me at <a href="mailto:miroslav.sulc@startnet.cz">miroslav.sulc@startnet.cz</a>.
            </p>
        </section>
    </body>
</document>
